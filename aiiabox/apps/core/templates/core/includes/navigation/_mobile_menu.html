{% comment %}
Mobile Navigation Menu

Slide-down mobile navigation menu.
Requires Alpine.js scope with mobileMenuOpen state.

Parameters: None
{% endcomment %}

<div x-show="mobileMenuOpen"
     @click.away="mobileMenuOpen = false"
     @keydown.escape.window="mobileMenuOpen = false"
     x-transition:enter="transition-smooth"
     x-transition:enter-start="opacity-0 transform -translate-y-2"
     x-transition:enter-end="opacity-100 transform translate-y-0"
     x-transition:leave="transition-smooth-300"
     x-transition:leave-start="opacity-100 transform translate-y-0"
     x-transition:leave-end="opacity-0 transform -translate-y-2"
     class="sm:hidden bg-white border-t border-gray-200 dark:bg-gray-950 dark:border-gray-800">
  <div class="px-2 pt-2 pb-3 space-y-1">
    {% if user.is_authenticated %}
      <a href="/dashboard"
         class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
        Dashboard
      </a>

      <a href="{% url 'profiles:profile_detail' %}"
         class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
        Profile
      </a>

      <a href="{% url 'profiles:settings_edit' %}"
         class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
        Settings
      </a>

      <hr class="my-2 dark:border-gray-800" />

      <form method="post" action="{% url 'core:logout' %}" class="m-0 p-0">
        {% csrf_token %}
        <button type="submit"
                class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-smooth font-medium text-red-600 dark:text-red-400 dark:hover:bg-gray-800 bg-transparent border-0 cursor-pointer">
          Logout
        </button>
      </form>
    {% else %}
      <a href="/"
         class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
        Home
      </a>

      <a href="/login"
         class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
        Login
      </a>

      <a href="/register"
         class="block px-3 py-2 rounded-lg text-blue-600 hover:bg-blue-50 transition-smooth font-medium dark:text-blue-400 dark:hover:bg-gray-800">
        Register
      </a>
    {% endif %}
  </div>
</div>
