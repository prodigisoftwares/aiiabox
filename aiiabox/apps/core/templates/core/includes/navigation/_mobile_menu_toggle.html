{% comment %}
Mobile Menu Toggle Button

Hamburger menu button for mobile navigation.
Requires Alpine.js scope with mobileMenuOpen state.

Parameters:
- user: Django user object (available in context)
{% endcomment %}

<div x-data="{ isOpen: false }">
  <button @click="isOpen = !isOpen"
          class="sm:hidden inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
          aria-label="Toggle mobile menu"
          :aria-expanded="isOpen">
    <!-- Hamburger icon -->
    <svg x-show="!isOpen"
         class="w-6 h-6 transition-all duration-300"
         fill="none"
         stroke="currentColor"
         viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
    <!-- X icon -->
    <svg x-show="isOpen"
         class="w-6 h-6 transition-all duration-300"
         fill="none"
         stroke="currentColor"
         viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>

  {# Mobile Menu #}
  <div x-show="isOpen"
       @click.away="isOpen = false"
       x-transition
       class="sm:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200 dark:bg-gray-950 dark:border-gray-800 z-40">
    <div class="px-2 pt-2 pb-3 space-y-1">
      {% if user.is_authenticated %}
        <a href="/dashboard"
           class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
          Dashboard
        </a>
        <a href="{% url 'profiles:profile_detail' %}"
           class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
          Profile
        </a>
        <a href="{% url 'profiles:settings_edit' %}"
           class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
          Settings
        </a>
        <hr class="my-2 dark:border-gray-800" />
        <form method="post" action="{% url 'core:logout' %}" class="m-0 p-0">
          {% csrf_token %}
          <button type="submit"
                  class="w-full text-left px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium text-red-600 dark:text-red-400 dark:hover:bg-gray-800 bg-transparent border-0 cursor-pointer">
            Logout
          </button>
        </form>
      {% else %}
        <a href="/"
           class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
          Home
        </a>
        <a href="/login"
           class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-smooth font-medium dark:text-gray-300 dark:hover:bg-gray-800">
          Login
        </a>
        <a href="/register"
           class="block px-3 py-2 rounded-lg text-blue-600 hover:bg-blue-50 transition-smooth font-medium dark:text-blue-400 dark:hover:bg-gray-800">
          Register
        </a>
      {% endif %}
    </div>
  </div>
</div>
