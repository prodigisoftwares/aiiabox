{% load i18n %}

{% comment %}
Chat list item partial for pagination list.

Parameters:
  - chat: Chat object with title, created_at, updated_at, messages (related)

Displays: Chat title (clickable), timestamp, message preview, status indicator
{% endcomment %}

<div class="p-4 border-b border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors duration-200 last:border-b-0">
  {# Chat title link #}
  <a href="{% url 'chats:chat_detail' chat.pk %}"
     class="block mb-2 font-semibold text-gray-900 dark:text-gray-50 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200">
    {{ chat.title }}
  </a>

  {# Timestamp #}
  <div class="text-xs text-gray-500 dark:text-gray-400 mb-2">
    {% trans "Updated" %} {{ chat.updated_at|date:"M d, Y H:i" }}
  </div>

  {# Message preview #}
  {% with latest_message=chat.messages.last %}
    {% if latest_message %}
      <p class="text-sm text-gray-600 dark:text-gray-400 truncate">
        {{ latest_message.content|truncatewords:10 }}
      </p>
    {% else %}
      <p class="text-sm text-gray-400 dark:text-gray-600 italic">
        {% trans "No messages yet" %}
      </p>
    {% endif %}
  {% endwith %}
</div>
