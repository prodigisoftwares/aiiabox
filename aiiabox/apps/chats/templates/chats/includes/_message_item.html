{% load i18n %}

{% comment %}
Message item display partial.

Parameters:
  - message: Message object with content, role, created_at attributes
  - roles: ROLE_CHOICES dict for display mapping (e.g., "user": "User")

Displays: Role badge, timestamp, message content with proper styling
{% endcomment %}

<div class="py-4 border-b border-gray-200 dark:border-gray-800 last:border-b-0">
  {# Role badge and timestamp #}
  <div class="flex items-center gap-2 mb-2">
    <span class="inline-block px-2 py-1 text-xs font-semibold rounded-full
                 {% if message.role == 'user' %}
                   bg-blue-100 text-blue-900 dark:bg-blue-900 dark:text-blue-100
                 {% elif message.role == 'assistant' %}
                   bg-green-100 text-green-900 dark:bg-green-900 dark:text-green-100
                 {% else %}
                   bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-gray-100
                 {% endif %}">
      {{ message.get_role_display }}
    </span>
    <span class="text-xs text-gray-500 dark:text-gray-400">
      {{ message.created_at|date:"M d, Y H:i" }}
    </span>
  </div>

  {# Message content #}
  <div class="text-gray-900 dark:text-gray-50 leading-relaxed whitespace-pre-wrap">
    {{ message.content }}
  </div>
</div>
